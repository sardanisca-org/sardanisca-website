{{- $url := urls.Parse .Destination -}}
{{- $baseURL := urls.Parse site.BaseURL -}}
{{- $isExternal := and $url.Host (ne $url.Host $baseURL.Host) -}}

{{- if $isExternal -}}
<a href="{{ .Destination | safeURL }}" target="_blank" rel="noopener noreferrer">{{ .Text | safeHTML }}</a>
{{- else -}}
<a href="{{ .Destination | safeURL }}">{{ .Text | safeHTML }}</a>
{{- end -}}
